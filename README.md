# Приложение, предоставляющее API для работы с фильмами и их продюсерами

## Entities

### Movie
Запись о кинофильме имеет следующие поля (все поля обязательны для заполнения):

1. id - целочисленный уникальный идентификатор записи

2. title - название кинофильма, строка до 100 символов

3. year - год выпуска, целое число от 1900 до 2100;

4. director - id режиссера;

5. length - продолжительность фильма, тип - время;

6. rating - рейтинг фильма (целое число от 0 до 10).

### Director 
Запись о режиссере имеет следующие поля (все поля обязательны для заполнения):

1. id - целочисленный уникальный идентификатор записи
2. fio - ФИО режиссера, строка до 100 символов


## Реализуемое API

### 1) GET /api/movies - список всех кинофильмов

Возвратить ответ с кодом 200 (OK) и вложить JSON следующей структуры:

````
{

"list": [

    {
    
    "id": 1,
    
    "title": "Example movie",
    
    "year": 2018,
    
    "director": director,
    
    "length": "02:30:00",
    
    "rating": 8
    
    },

...

]

}
````

- ### 2) GET /api/movies/:id - информация о кинофильме с указанным id

необходимо возвратить ответ с кодом 200 (OK) и вложить JSON следующей структуры:

````

{"movie": {

"id": 1,

"title": "Example movie",

"year": 2018,

"director": director,

"length": "02:30:00",

"rating": 8

}

}
````

В случае, если записи с указанным id не найдено, необходимо возвратить ответ с кодом 404 (Not Found).

- ### 3) POST /api/movies - добавление новой записи о кинофильме

В теле входящего запроса необходимо ожидать JSON следующей структуры:

````

{"movie": {

"id": 1,

"title": "Example movie",

"year": 2018,

"director": director,

"length": "02:30:00",

"rating": 8

}

}
````

В случае успешного добавления в список необходимо возвратить ответ с кодом 200 (OK) и вложить JSON следующей структуры:

````
{

"movie": {

"id": <уникальный идентификатор записи>,

"title": "Example movie",

"year": 2018,

"director": director,

"length": "02:30:00",

"rating": 8

}

}
````
В случае неудачи необходимо возвратить ответ с кодом 500 (Internal Server Error) и вложить JSON следующей структуры:
````
{

"status": 500,

"reason": "<Причина неудачи>"

}
````

- ### 4) PATCH /api/movies/:id - изменение информации о кинофильме с указанным id

Входящий запрос и формат ответов при удачном и неудачном изменении совпадают с предыдущим методом.

В случае, если записи с указанным id не найдено, необходимо возвратить ответ с кодом 404 (Not Found).


- ### 5) DELETE /api/movies/:id - удаление записи с указанным id

В случае успеха необходимо возвратить ответ с кодом 202 (Accepted).

В случае, если записи с указанным id не найдено, необходимо возвратить ответ с кодом 404 (Not Found).

В случае других ошибок необходимо возвратить ответ с кодом 500 (Internal Server Error) и вложить JSON следующей
структуры:
````
{

"status": 500,

"reason": "<Причина неудачи>"

}
Аналогичные 5 методов реализуются для режиссера, только в теле входящих запросов передается JSON вида:

{

"director": {

"id": <уникальный идентификатор записи>,

"fio": "Example director"

}
````